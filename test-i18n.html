<!DOCTYPE html>
<html>
<head>
    <title>i18n Test</title>
    <script type="importmap">
    {
        "imports": {
            "i18next": "./node_modules/i18next/dist/es/i18next.js",
            "i18next-icu": "./node_modules/i18next-icu/dist/es/index.js"
        }
    }
    </script>
</head>
<body>
    <div id="test"></div>
    <script type="module">
        import i18next from 'i18next';
        import ICU from 'i18next-icu';
        
        // 初始化 i18next
        i18next.use(ICU).init({
            debug: true,
            initImmediate: false,
            fallbackLng: 'en',
            lng: 'en',
            ns: ['shared', 'site', 'connection', 'report', 'ctascreens', 'firebutton', 'toggle-report'],
            defaultNS: 'shared',
            resources: {
                en: {
                    firebutton: {
                        title: 'Fire Button'
                    }
                },
                zh: {
                    firebutton: {
                        title: '防火按钮'
                    }
                }
            }
        });
        
        // 测试切换语言
        console.log('Current language:', i18next.language);
        console.log('Available languages:', Object.keys(i18next.options.resources));
        
        // 测试中文翻译
        i18next.changeLanguage('zh').then(() => {
            console.log('Changed to Chinese');
            console.log('Test translation:', i18next.t('firebutton:title'));
        });
    </script>
</body>
</html> 